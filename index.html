<!doctype html>
<html lang="id">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">

        <title>Undangan Pernikahan Nita & Denis</title>
        <meta name="description" content="">
        <meta name="author" content="Denis">

        <!--  Essential META Tags -->

        <meta property="og:title" content="Undangan Pernikahan Nita & Denis">
        <meta property="og:description" content="7 November 2020">
        <meta property="og:image" content="https://raw.githubusercontent.com/xdn27/nd7112020/master/images/cover.jpg">
        <meta property="og:url" content="http://nitadenis.wedding">
        <meta name="twitter:card" content="https://raw.githubusercontent.com/xdn27/nd7112020/master/images/cover.jpg">


        <!--  Non-Essential, But Recommended -->

        <meta property="og:site_name" content="Undangan Pernikahan Nita & Denis">
        <meta name="twitter:image:alt" content="7 November 2020">

        <link rel="stylesheet" href="css/fullpage.min.css">
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
        <link rel="stylesheet" href="style.css?v=1.0">

    </head>

    <body>

        <audio id="bgm" class="audio" loop autoplay controls>
            <source src="sound.mp3" type="audio/mpeg">
        </audio>

        <div id="covid">
            <div class="dialog">
                <p>Tamu undangan wajib mematuhi protokol kesehatan covid-19 dengan menggunakan masker, menjaga jarak, tidak bersalaman dan menggunakan hand sanitizer selama di lokasi.</p>
                <br>
                <button class="exit-covid">OK</button>
            </div>
        </div>

        <div class="button-ucapan">
            <a href="#">Kirim Ucapan</a>
        </div>

        <div class="dialog-ucapan" style="display: none;">
            <div class="form-ucapan">
                <div class="thanks" style="display: none;">
                    <p>Terima kasih atas ucapannya :)</p>
                    <a class="form-close" href="#">Keluar</a>
                </div>
                <div class="form">
                    <p>Kirim Ucapan</p>
                    <input type="text" name="name" placeholder="Nama" autocomplete="off" />
                    <br>
                    <textarea name="ucapan" placeholder="Ucapan"></textarea>
                    <br>
                    <a class="form-subimt" href="#">Kirim</a>
                    <a class="form-close" href="#">Keluar</a>
                </div>
            </div>
        </div>

        <div id="fullpage">
            <div class="section fp-auto-height-responsive page-1 active">
                <div class="decor">
                    <img src="images/bunga-01.png" />
                </div>
                <div class="page-wrapper-1 center">
                    <h1 data-aos="fade-in" data-aos-delay="500">UNDANGAN PERNIKAHAN</h1>
                    <img data-aos="fade-in" data-aos-delay="1000" class="nama-1" src="images/nama-01.png" />
                    <h2 data-aos="fade-in" data-aos-delay="1500">7 November 2020</h2>
                </div>
            </div>

            <div class="section fp-auto-height-responsive page-2">

                <div class="decor">
                    <img src="images/bunga-02.png" />
                </div>

                <div class="page-wrapper-2">
                    <div class="center">
                        <p data-aos="fade-in" data-aos-delay="500" class="bold">Assalamualaikum Warahmatullahi Wabarakatuh</p>
                        <p data-aos="fade-in" data-aos-delay="1000">Maha suci Allah SWT yang telah menciptakan makhluk-Nya berpasang-pasangan.<br>Bismillahirrahmanirrahim, ijinkanlah kami bersatu dalam ikatan pernikahan suci</p>
                        <p data-aos="fade-in" data-aos-delay="1500">
                            <img class="nama-cp" src="images/nita.png" />
                            <br>Putri ke-3 dari Bapak Asep Kosasih & Ibu Sri Yudia Prihatin
                        </p>
                        <p data-aos="fade-in" data-aos-delay="2000">
                            <img class="dan" src="images/dan.png" />
                        </p>
                        <p data-aos="fade-in" data-aos-delay="2500">
                            <img class="nama-cp" src="images/denisa.png" />
                            <br>Putra ke-1 dari Bapak Dedi Suryadi & Ibu Lina Lisnawati
                        </p>
                    </div>
                </div>

                <div class="decor-2">
                    <img src="images/daun-01.png" />
                </div>
            </div>

            <div class="section fp-auto-height-responsive page-3">

                <div class="decor">
                    <img src="images/orange-1.png" />
                </div>

                <div class="center page-wrapper-3">
                    <img class="akad" src="images/akad.png" data-aos="fade-in" data-aos-delay="500"/>
                    <table class="table-date" data-aos="fade-in" data-aos-delay="1500">
                        <tr>
                            <td class="date-line">
                                <div class="right">SABTU</div>
                            </td>
                            <td class="date-row">
                                <div>NOVEMBER</div>
                                <div class="t7">7</div>
                                <div>2020</div>
                            </td>
                            <td class="date-line">
                                <div class="left">09.00 - 14.30 WIB</div>
                            </td>
                        </tr>
                    </table>
                    <div data-aos="fade-in" data-aos-delay="2000">
                        <p class="bold" style="margin-bottom: 8px">Grand Ballroom - Restoran Indo Alam Sari
                        <br>Jalan Raya Taruma Negara (Interchange Tol) - Karawang Barat<br></p>
                        <a href="https://goo.gl/maps/qxU8oEmZQDRYE6uZ9" target="_blank">Lihat Peta</a>
                    </div>

                    <div data-aos="fade-in" data-aos-delay="2500">
                        <p>Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila<br>
                            Bapak/Ibu/Saudara/i berkenan hadir dan memberikan do’a restu</p>
                        
                        <p>Atas kehadiran dan do’a restu dari<br>
                            Bapak/Ibu/Saudara/i, kami ucapkan terima kasih</p>
                        
                        <p>Wassalamualaikum Warahmatullahi Wabarakatuh</p>
                    </div>

                    <div  data-aos="fade-in" data-aos-delay="3000">
                        <p>Kami yang berbahagia,</p>
                    
                        <table style="margin: 0 auto;">
                            <tr>
                                <td style="padding-right: 50px; text-align: right;">
                                    Kel. Bapak Asep Kosasih
                                    <br>Ibu Sri Yudia Prihatin
                                </td>
                                <td style="border-left: 1px solid black; padding-left: 50px; text-align: left;">
                                    Kel. Bapak Dedi Suryadi
                                    <br>Ibu Lina Lisnawati
                                </td>
                            </tr>
                        </table>
                        <br>
                        <p>
                            <img class="nitadenis" src="images/nitadenis-sm.png" />
                        </p>
                    </div>
                </div>
            </div>

            <div class="section fp-auto-height-responsive page-4">

                

                <div class="grid-wrapper">
                    <div class="grid" style="top: 0px;">
                        <div class="grid-sizer"></div>
                        <div class="grid-item" style="background: url('images/pw/1.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/3.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/6.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/2.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/7.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/8.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/9.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/10.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/11.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/12.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/13.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/14.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/15.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/16.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/17.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/18.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/19.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/20.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/21.jpg'); background-size: cover;"></div>
                        <div class="grid-item" style="background: url('images/pw/22.jpg'); background-size: cover;"></div>
                    </div>
                    <div class="grid-alpha"></div>
                </div>
            </div>
            
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="js/fullpage.min.js"></script>
        <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

        <script src="script.js"></script>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>


        <script>
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            var firebaseConfig = {
                apiKey: "AIzaSyDhAbv34tHgW7PywCYybavvP7ZKqB09qSk",
                authDomain: "nitadeniswedding.firebaseapp.com",
                databaseURL: "https://nitadeniswedding.firebaseio.com",
                projectId: "nitadeniswedding",
                storageBucket: "nitadeniswedding.appspot.com",
                messagingSenderId: "315623021370",
                appId: "1:315623021370:web:68e09b4efda08571e40e03",
                measurementId: "G-Z08DK2M4GX"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            firebase.analytics();
            
            AOS.init();
            
            new fullpage('#fullpage', {
                autoScrolling: true,
                responsiveHeight: 800,
                // onLeave: function(){
                //     $('.section [data-aos]').removeClass("aos-animate");
                // },
                // onSlideLeave: function(){
                //     $('.slide [data-aos]').removeClass("aos-animate");
                // },
                afterSlideLoad: function(){
                    $('.slide.active [data-aos]').addClass("aos-animate");
                },
                afterLoad: function(){
                    $('.section.active [data-aos]').addClass("aos-animate");
                }
            });
            
            var classes = ['grid-item--width2 grid-item--height2', 'grid-item--width3', 'grid-item--width2 grid-item--height3', 'n'];
            $('.grid .grid-item').each(function(){
                $(this).addClass(classes[~~(Math.random()*classes.length)]);
            });

            setTimeout(function(){
                $('.grid').masonry({
                    itemSelector: '.grid-item',
                    columnWidth: '.grid-sizer',
                    percentPosition: true
                });

                let ch = $('.grid-wrapper').closest('.fp-tableCell').attr('style').split(':');
                let gh = $('.grid-wrapper')[0].scrollHeight;

                animate1();

                function animate1(){
                    $('.grid').animate({
                        top: ((gh-parseInt(ch[1])) * -1)
                    }, 80000, function(){
                        animate2();
                    });
                }

                function animate2(){
                    $('.grid').animate({
                        top: 0
                    }, 80000, function(){
                        animate1();
                    });
                }
            }, 400);

            let is_play = false;
            $(document).on('click', 'body', function(){

                if(!is_play){
                    var bgm = document.getElementById('bgm');
                    bgm.play();
                    is_play = true;
                }
            });

            $(document).on('click', '.exit-covid', function(e){
                e.preventDefault();
                $('#covid').fadeOut(500);
            });

            function saveToFirebase(name, ucapan) {
                var obj = {
                    name: name,
                    ucapan: ucapan
                };

                firebase.database().ref('ucapan').push().set(obj)
                    .then(function(snapshot) {
                        
                    }, function(error) {
                        console.log('error' + error);
                        error(); // some error method
                    });
            }

            $(document).on('click', '.button-ucapan a', function(e){
                e.preventDefault();
                $('.form').show();
                $('.thanks').hide();

                $('.dialog-ucapan').fadeIn();
            });

            $(document).on('click', '.form-close', function(e){
                e.preventDefault();

                $('.dialog-ucapan').fadeOut();
            });

            $(document).on('click', '.form-subimt', function(e){
                e.preventDefault();

                let n = $('input[name="name"]').val();
                let u = $('textarea[name="ucapan"]').val();

                if(n != '' && u != ''){
                    saveToFirebase(n, u);
                    $('input[name="name"]').val('');
                    $('textarea[name="ucapan"]').val('');
                    $('.form').hide(1, function(){
                        $('.thanks').fadeIn();
                    });
                }
            });

            // saveToFirebase('Nita', 'Barakallah Nita dan Denis..');

            $(window).on('load', function(){

                firebase.database().ref('ucapan').once('value').then(function(snapshot) {
                    console.log('snapshot', snapshot.val());
                    let d = snapshot.val();
                    let n = 1;

                    $.each(d, function(i, v){
                        let timeout = n * 5000;
                        let ucapan = v.ucapan + " - " + v.name;
                        
                        setTimeout(function(){
                            displayToast(ucapan);
                        }, timeout);

                        n++;
                    });
                });

                
            });

            function displayToast(ucapan){

                Toastify({
                    text: ucapan,
                    duration: 5000, 
                    close: true,
                    gravity: 'bottom',
                    position: 'center',
                    backgroundColor: 'linear-gradient(to right, #00b09b, #96c93d)',
                    stopOnFocus: false,
                }).showToast();
            }

        </script>
    </body>
</html>